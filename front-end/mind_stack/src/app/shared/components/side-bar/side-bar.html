<mat-sidenav-container class="sidenav-container">
    <mat-sidenav mode="push" opened [class.collapsed]="isCollapsed" class="sidebar">
        <button class="toggle-btn" (click)="toggleSidebar()">
            <span class="toggle-icon">â˜°</span>
        </button>
        
        <div class="side-bar-header">
            <img src="assets/image-logo.png" alt="Mindstack Logo" class="logo"/>
            <h1 class="title text-content">Mindstack</h1>
        </div>

        <ul class="menu">
            <li>
                <a routerLink="/app/dashboard" routerLinkActive="active">
                    <div class="icon-wrapper">
                        <img src="assets/book-dashboard.png" 
                              alt="Dashboard icon" 
                              class="icon icon-default">
                        <img src="assets/dashboard-hover-icon.png" 
                              alt="Dashboard hover icon" 
                              class="icon icon-hover">
                    </div>
                    <span class="text-content">Dashboard</span>
                </a>
            </li>
            <li>
                <a routerLink="/app/study-sets" routerLinkActive="active">
                    <div class="icon-wrapper">
                        <img src="assets/Edit.png" 
                              alt="Study Sets icon" 
                              class="icon icon-default">
                        <img src="assets/flashcard-hover-icon.png" 
                              alt="Flashcard hover icon" 
                              class="icon icon-hover">
                    </div>
                    <span class="text-content">Flashcard Set</span>
                </a>
            </li>
            <li>
                <a routerLink="/app/quizzes" routerLinkActive="active">
                    <div class="icon-wrapper">
                        <img src="assets/Clipboard.png" 
                              alt="Quizzes icon" 
                              class="icon icon-default">
                        <img src="assets/quizset-hover-icon.png" 
                              alt="Quiz Set hover icon" 
                              class="icon icon-hover">
                    </div>
                    <span class="text-content">Quiz Set</span>
                </a>
            </li>
            <li>
                <a routerLink="/app/community" routerLinkActive="active">
                    <div class="icon-wrapper">
                        <img src="assets/Trello.png" 
                              alt="Community icon" 
                              class="icon icon-default">
                        <img src="assets/community-hover-icon.png" 
                              alt="Community hover icon" 
                              class="icon icon-hover">
                    </div>
                    <span class="text-content">Community</span>
                </a>
            </li>
            <li>
                <a routerLink="/app/notifications" routerLinkActive="active">
                    <div class="icon-wrapper">
                        <img src="assets/bell.png" 
                              alt="Notification icon" 
                              class="icon icon-default">
                        <img src="assets/notification-hover-icon.png" 
                              alt="Notification hover icon" 
                              class="icon icon-hover">
                    </div>
                    <span class="text-content">Notification</span>
                </a>
            </li>
        </ul>

        <div class="sidebar-user">
            <div class="user-left">
                <div class="user-profile-initial">
                    <a routerLink="/app/user-profile">
                        <div class="user-avatar-circle">{{ userInitial }}</div>
                    </a>
                </div>

                <div class="user-info text-content">
                    <span class="user-name">{{ userName }}</span>
                    <span class="user-email">{{ userEmail }}</span>
                </div>
            </div>

            <button class="logout-btn text-content" (click)="onLogout()">
                <div class="icon-wrapper-logout">
                    <img src="assets/logout-icon.png" class="icon-btn icon-default" alt="Logout">
                    <img src="assets/logout-hover-icon.png" class="icon-btn icon-hover" alt="Logout hover">
                </div>
            </button>
        </div>

        <button class="logout-btn-collapsed" (click)="onLogout()" title="Logout">
            <div class="icon-wrapper-logout">
                <img src="assets/logout-icon.png" class="icon-btn icon-default" alt="Logout">
                <img src="assets/logout-hover-icon.png" class="icon-btn icon-hover" alt="Logout hover">
            </div>
        </button>
    </mat-sidenav>

    <mat-sidenav-content>
        <ng-content></ng-content>
    </mat-sidenav-content>
</mat-sidenav-container>

@if (logoutModalOpen()) {
    <div class="modal-backdrop"></div>

    <div class="logout-modal">
        <div class="modal-content">
            <div class="spinner"></div>
            <h2>Logging Out...</h2>
            <p>Please wait</p>
        </div>
    </div>
}