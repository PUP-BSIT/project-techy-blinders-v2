<app-nav-bar></app-nav-bar>

<div class="container">
    <div class="logo-class">
        <div class="header-class">
            <h1>Join today and transform your notes into smarter study tools.</h1>
        </div>

        <div class="image-class">
            <img src="assets/register.png">
        </div>
    </div>

    <div class="seperator-class">

    </div>

    <div class="registration-form">
        <form [formGroup]="registrationFrom" (ngSubmit)="registrationValidation()">
            <div class="form-group">
                <label>Email</label>
                <input type="text" formControlName="email" placeholder="Email">
                <div class="validation-message">
                    @if (emailControl?.touched) {
                        @if (emailControl?.errors?.['required']) {
                            <span>Input Email</span>
                        }@else if(emailControl?.errors?.['email']) {
                            <span>Invalid Email</span>
                        }@else if (emailControl?.errors?.['maxlength']) {
                            <span>Email can only contain up to 20 characters</span>
                        }
                    }
                </div>
            </div>

            <div class="form-group">
                <label>Username</label>
                <input type="text" formControlName="username" placeholder="Username">
                <div class="validation-message">
                    @if (usernameControl?.touched) {
                        @if(usernameControl?.errors?.['required']) {
                            <span>Input Username</span>
                        }@else if (usernameControl?.errors?.['maxlength']) {
                            <span>Username can only contain up to 20 characters</span>
                        }
                    }
                </div>
            </div>

            <div class="form-group">
                <label>Password</label>
                <input type="password" formControlName="password" placeholder="Password">
                <div class="validation-message">
                    @if(passwordControl?.touched) {
                        @if(passwordControl?.errors?.['required']){
                            <span>Input password</span>
                        }
                    }
                </div>
            </div>

            <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" formControlName="confirmPassword" placeholder="Confirm password">
                <div class="validation-message">
                    @if (confirmPasswordControl?.touched) {
                        @if(confirmPasswordControl?.errors?.['required']) {
                            <span>Confirm your password</span>
                        }@else if(confirmPasswordControl?.value !== passwordControl?.value) {
                            <span>Password is not match</span>
                        }
                    }
                </div>
            </div>

            @if (isLoading) {
                <div class="loading-message">
                    <span>Registering...</span>
                </div>
            }

            @if (errorMessage) {
                <div class="error-message">
                    <span>{{ errorMessage }}</span>
                </div>
            }

            @if (successMessage) {
                <div class="success-message">
                    <span>{{ successMessage }}</span>
                </div>
            }

            <div class="submit-class">
                <button type="submit">Register</button>
            </div>
            <div class="cancel-button">
                <button type="reset">Cancel</button>
            </div>
        </form>
    </div>
</div>