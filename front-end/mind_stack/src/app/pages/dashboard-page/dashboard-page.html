<div class="dashboard-wrapper">
  <div class="dashboard-container">

    @if (isLoading) {
        <div class="loading-indicator">
            Loading Dashboard...
        </div>
    } @else {
      <section class="user-header-section">
        <div class="user-info">
          <h1 class="user-name">{{ userName }}</h1>
          <p class="user-email">{{ userEmail }}</p>
        </div>
        <div class="user-stats">
          <div class="stat-badge clickable" (click)="navigateToQuizzes()">
            <span class="stat-label">Quiz Sets</span>
            <span class="stat-number">{{ quizCount }}</span>
          </div>
          <div class="stat-badge clickable" (click)="navigateToFlashcards()">
            <span class="stat-label">Flashcard Sets</span>
            <span class="stat-number">{{ flashcardCount }}</span>
          </div>
        </div>
      </section>

      <section class="quick-actions-section">
        <div class="action-row">
          <h2 class="action-title">Create a Flashcard Set</h2>
          <button class="create-btn" (click)="createFlashcards()">Create</button>
        </div>
        
        <div class="divider"></div>
        
        <div class="action-row">
          <h2 class="action-title">Create a Quiz Set</h2>
          <button class="create-btn" (click)="createQuiz()">Create</button>
        </div>
      </section>

      <section class="recent-activity-section">
        <div class="section-header">
          <h2 class="section-title">Recent Activities</h2>
          <div class="header-actions">
            <span class="count-badge">{{ recentActivities.length }}</span>
            @if (recentActivities.length > 0) {
              <button class="reset-btn" (click)="resetActivities()" title="Clear all activities">
                Clear All
              </button>
            }
          </div>
        </div>
        <div class="activity-list">
          @if (recentActivities.length === 0) {
            <p class="empty-message">No recent activities</p>
          }
          @for (activity of recentActivities; track activity.id) {
            <div class="activity-item" (click)="navigateToActivity(activity)">
              <div class="activity-content">
                <span class="activity-title">{{ activity.title }}</span>
                <span class="activity-subtitle">{{ getActivityDescription(activity) }}</span>
              </div>
            </div>
          }
        </div>
      </section>
    }
  </div>
</div>
