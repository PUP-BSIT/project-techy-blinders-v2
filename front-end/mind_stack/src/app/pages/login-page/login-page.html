<app-nav-bar></app-nav-bar>

<div class="container">
    <div class="logo-class">
        <div class="header-class">
            <h1>Your Study Journey Starts Here!</h1>
        </div>

        <div class="image-class">
            <img src="assets/toga.png">
        </div>
    </div>

    <div class="seperator-class">

    </div>

    <div class="login-form">
        <form [formGroup]="loginForm" (ngSubmit)="loginValidation()">
            <div class="email-class">
                <div>
                    <label>Email</label>
                </div>
                <input formControlName="email" type="text" placeholder="User ID">
                    @if (emailControl?.touched) {

                        @if(emailControl?.errors?.['required']) {
                            <div>
                                <span>Invalid Enter Email</span> 
                            </div>
                            
                        }@else if (emailControl?.errors?.['email']) {
                            <div>
                                <span>Invalid Format of Email</span>
                            </div>
                         }
                    }
            </div>

            <div class="password-class">
                <div>
                    <label>Password</label>
                </div>
                <input formControlName="password" type="password" placeholder="Password">
                    @if (passwordControl?.touched) {
                        @if(passwordControl?.errors?.['required']) {
                            <div>
                                <span>Input a password</span>
                            </div>
                        }
                    }
            </div>

            @if (isLoading) {
            <div class="loading-message">
                <span>Logging in...</span>
            </div>
            }

            @if (successMessage) {
            <div class="success-message">
                <span>{{ successMessage }}</span>
            </div>
            }

            <div class="forgot-password">
                <a routerLink="/forgot-passowrd">Forgot Password</a>
            </div>

            <div class="login-button">
                <button type="submit" [disabled]="!loginForm.valid || isLoading">Login</button>
            </div>

            <div class="register-class">
                <p>Don't have account ? <a routerLink="register">Register</a></p>
            </div>
        </form>
    </div>
</div>